# TripoSG 参数使用指南

## 核心参数详解

### 1. --num-inference-steps (推理步骤数)
**作用**: 控制扩散模型的迭代次数

| 设置 | 质量 | 时间 | 适用场景 |
|------|------|------|----------|
| 20-30步 | ⭐⭐ | ⚡⚡⚡ | 快速原型、实时预览 |
| 40-60步 | ⭐⭐⭐ | ⚡⚡ | 日常使用、平衡模式 |
| 80-100步 | ⭐⭐⭐⭐ | ⚡ | 高质量输出、专业用途 |

**技术细节**: 
- 每步都会对3D模型进行细化
- 步数越多，模型细节越丰富
- 步数过少可能导致模型不完整

### 2. --guidance-scale (引导尺度)
**作用**: 控制模型对输入图像的忠实度

| 设置 | 忠实度 | 创造性 | 效果 |
|------|--------|--------|------|
| 3.0-5.0 | ⭐⭐ | ⭐⭐⭐⭐ | 创意性较强，可能偏离原图 |
| 6.0-8.0 | ⭐⭐⭐ | ⭐⭐⭐ | 平衡模式，推荐使用 |
| 9.0-12.0 | ⭐⭐⭐⭐ | ⭐⭐ | 高度忠实于原图 |

**技术细节**:
- 基于分类器自由引导(CFG)技术
- 值越高，模型越严格遵循输入图像
- 值过低可能导致生成内容与输入无关

### 3. --faces (目标面数)
**作用**: 控制输出3D模型的复杂度

| 面数 | 文件大小 | 细节程度 | 适用场景 |
|------|----------|----------|----------|
| 500-1000面 | 100-500KB | ⭐⭐ | 网页展示、移动端 |
| 2000-4000面 | 1-3MB | ⭐⭐⭐ | 游戏引擎、实时渲染 |
| 5000-8000面 | 3-8MB | ⭐⭐⭐⭐ | 高质量渲染、3D打印 |
| 8000-10000面 | 8-15MB | ⭐⭐⭐⭐⭐ | 影视级质量、存档 |

**技术细节**:
- 使用二次边折叠算法进行网格简化
- 保持模型拓扑结构和视觉质量
- 面数设置不影响推理速度，只影响后处理

## 推荐配置组合

### 快速测试配置
```bash
python inference_triposg.py --image-input input.jpg \
    --num-inference-steps 25 \
    --guidance-scale 6.0 \
    --faces 1000
```

### 平衡质量配置
```bash
python inference_triposg.py --image-input input.jpg \
    --num-inference-steps 50 \
    --guidance-scale 7.0 \
    --faces 3000
```

### 高质量配置
```bash
python inference_triposg.py --image-input input.jpg \
    --num-inference-steps 80 \
    --guidance-scale 8.5 \
    --faces 6000
```

## 性能优化建议

### 内存优化
- 降低面数设置可减少内存占用
- 使用较小的输入图像分辨率
- 关闭不必要的后台程序

### 速度优化  
- 优先减少推理步骤数
- 使用RTX系列GPU可获得最佳性能
- 确保CUDA驱动为最新版本

## 故障排除

### 常见问题
1. **内存不足**: 降低面数设置或使用更小的图像
2. **生成质量差**: 增加推理步骤数和引导尺度
3. **模型不完整**: 检查输入图像质量，确保主体清晰

### 性能监控
- 监控GPU使用率: `nvidia-smi`
- 检查显存占用情况
- 根据硬件能力调整参数